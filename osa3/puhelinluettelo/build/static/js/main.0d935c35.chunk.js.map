{"version":3,"sources":["components/Name.js","components/NameRenderer.js","components/Filter.js","services/names.js","components/Notification.js","App.js","index.js"],"names":["Name","name","toggleDeletion","number","onClick","NameRenderer","persons","filter","toggleDeletionOf","namesToShow","toLowerCase","includes","map","key","Filter","onChange","value","request","axios","get","nonExisting","id","then","response","data","concat","newObject","post","delete","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","useEffect","console","log","nameService","length","event","target","onSubmit","preventDefault","table","nameObject","contains","i","window","alert","returnedName","setTimeout","type","find","n","confirm","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d935c35.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Name = ({ name, toggleDeletion }) => {\r\n  return (\r\n    <p>{name.name} {name.number} <button onClick={toggleDeletion}>delete</button></p>\r\n  )\r\n}\r\n\r\nexport default Name","import React from 'react'\r\nimport Name from './Name'\r\n\r\n\r\nconst NameRenderer = ({ persons, filter, toggleDeletionOf }) => {\r\n    \r\n    const namesToShow = persons.filter(\r\n        name => name.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n    return (\r\n        <div>\r\n            {namesToShow.map((name) =>\r\n                <Name key={name.name} name={name}\r\n                toggleDeletion={() => toggleDeletionOf(name.name)}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NameRenderer","import React from 'react'\r\n\r\nconst Filter = ({ filter, onChange }) => {\r\n\r\n    return (\r\n        <div>\r\n            Filter shown with: <input\r\n                value={filter}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/notes'\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    const nonExisting = {\r\n        id: '',\r\n        name: '',\r\n        number: '',\r\n    }\r\n    return request.then(response => response.data.concat(nonExisting))\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = name => {\r\n    const request = axios.delete(`${baseUrl}/${name}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport NameRenderer from './components/NameRenderer'\nimport Filter from './components/Filter'\nimport nameService from './services/names'\nimport Notification from './components/Notification'\n\n\n\n//2.19 tehty\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => { // Datan hakeminen\n    console.log('effect')\n    nameService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'notes')\n\n  const addName = (event) => { // Nimen ja puhelinnumeron lisääminen palvelimelle\n    event.preventDefault()\n    console.table(persons)\n    const nameObject = {\n      id: newName,\n      name: newName,\n      number: newNumber,\n    }\n\n    var contains = false //testataan löytyykö nimeä jo tiedoista\n    for (let i = 0; i < persons.length; i++)\n      if (persons[i].name === newName) {\n        contains = true\n        window.alert(`${newName} is already in the phonebook`)\n      }\n    if (contains === false) {\n      nameService\n        .create(nameObject)\n        .then(returnedName => {\n          setPersons(persons.concat(returnedName))\n        })\n        setErrorMessage(\n          `${newName} added to the server.`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n    }\n    setNewName('')\n    setNewNumber('')\n    contains = false\n  }\n\n  const toggleDeletionOf = (id) => { // Poistofunktion kutsu\n    const name = persons.find(n => n.name === id)\n\n    if (window.confirm(`Delete ${name.name}?`))\n      nameService\n        .remove(id)\n        .then(setPersons(persons.filter(n => n.name !== id)))\n        .catch(error => {\n          alert(\n            `the name '${name.name}' was already deleted from server`\n          )\n          setPersons(persons.filter(n => n.name !== id))\n        })\n  }\n\n  //eventhandlerit nimelle, numerolle ja filtterille\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <Filter onChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <form onSubmit={addName}>\n        <div>\n          name: <input\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number: <input\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <NameRenderer persons={persons} filter={newFilter}\n        toggleDeletionOf={toggleDeletionOf} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}